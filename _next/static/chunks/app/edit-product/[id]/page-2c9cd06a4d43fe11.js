(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197],{1443:(e,r,t)=>{Promise.resolve().then(t.bind(t,2309))},2309:(e,r,t)=>{"use strict";t.d(r,{default:()=>a});var s=t(5155),d=t(3854),i=t(2177);function a(e){let{product:r}=e,{register:t,handleSubmit:a,formState:{errors:c}}=(0,i.mN)({defaultValues:{title:r.title,description:r.description,image:r.image,price:r.price,category:r.category}}),o=(0,d.K)(e=>e.editProduct);return(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl mb-4",children:"Редактировать продукт"}),(0,s.jsxs)("form",{onSubmit:a(e=>{o({...r,...e}),window.location.href="/products/".concat(r.id)}),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...t("title",{required:"Название обязательно"}),placeholder:"Название",className:"w-full p-2 border border-solid border-black"}),c.title&&(0,s.jsx)("p",{className:"text-red-500",children:c.title.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("textarea",{...t("description",{required:"Описание обязательно"}),placeholder:"Описание",className:"w-full p-2 border border-solid border-black"}),c.description&&(0,s.jsx)("p",{className:"text-red-500",children:c.description.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...t("image",{required:"Ссылка на картинку обязательна"}),placeholder:"URL картинки",className:"w-full p-2 border border-solid border-black"}),c.image&&(0,s.jsx)("p",{className:"text-red-500",children:c.image.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"number",...t("price",{required:"Цена обязательна",min:0}),placeholder:"Цена",className:"w-full p-2 border border-solid border-black"}),c.price&&(0,s.jsx)("p",{className:"text-red-500",children:c.price.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...t("category",{required:"Категория обязательна"}),placeholder:"Категория (например, electronics)",className:"w-full p-2 border border-solid border-black"}),c.category&&(0,s.jsx)("p",{className:"text-red-500",children:c.category.message})]}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded",children:"Сохранить"})]})]})}},3854:(e,r,t)=>{"use strict";t.d(r,{K:()=>i});var s=t(5453),d=t(6786);let i=(0,s.v)()((0,d.Zr)((e,r)=>({products:[],currentPage:1,itemsPerPage:6,fetchProducts:async()=>{if(0===r().products.length){console.log("Загружаем продукты с Fake Store API, так как store пуст");let r=await fetch("https://fakestoreapi.com/products");if(!r.ok)throw Error("Failed to fetch products from Fake Store API");e({products:(await r.json()).map(e=>({...e,isLiked:!1}))})}},toggleLike:r=>e(e=>({products:e.products.map(e=>e.id===r?{...e,isLiked:!e.isLiked}:e)})),deleteProduct:r=>e(e=>({products:e.products.filter(e=>e.id!==r)})),addProduct:r=>e(e=>{let t={...r,id:Date.now(),isLiked:!1};return{products:[...e.products,t]}}),editProduct:r=>e(e=>({products:e.products.map(e=>e.id===r.id?{...e,...r}:e)})),setPage:r=>e(()=>({currentPage:r}))}),{name:"product-store",storage:(0,d.KU)(()=>localStorage),partialize:e=>({products:e.products,currentPage:e.currentPage,itemsPerPage:e.itemsPerPage})}))}},e=>{var r=r=>e(e.s=r);e.O(0,[354,441,684,358],()=>r(1443)),_N_E=e.O()}]);